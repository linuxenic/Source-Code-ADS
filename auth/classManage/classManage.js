var defaultSelect,extFileRegistId;Ext.onReady(function(){var i,h,f,k,d;var b=Ext.merge({add:false,update:false,"delete":false,self:true},Ext.decode(decode(AUTH_TBAR)));var a=Ext.create("Ext.tip.ToolTip",{title:window.top.getIi18NText("systemMessage"),minWidth:100,html:""});Ext.QuickTips.init();if(!b.self){i=Ext.create("Ext.container.Viewport",{layout:{type:"fit"},renderTo:document.body,defaults:{},border:false,style:"background: white",height:"100%",width:"100%",items:[{html:"<div style='width: 100%;height: 100%;display:table;text-align:center !important'><span style='height: 100%;display:table-cell;vertical-align:middle;'><img style='vertical-align: middle;' src='"+BASEPATH+"images/"+getIi18NText("noauth")+"'></span></div>"}]})}else{i=Ext.create("Ext.container.Viewport",{layout:{type:"border"},renderTo:document.body,defaults:{},border:false,style:"background: white",items:[{region:"north",height:40,width:400,id:"northContanier",layout:{type:"hbox",align:"middle",defaultMargins:{right:3}},bodyCls:"x_panel_backDD",items:[{xtype:"image",src:"",width:40,height:24,imgCls:"searchIconCss"},{fieldLabel:window.top.getIi18NText("name"),id:"searchTextId",xtype:"textfield",maxLength:50,width:180,labelWidth:30,emptyText:window.top.getIi18NText("searchByclassName")},{xtype:"button",id:"queryBut",iconCls:"queryIconCss",text:window.top.getIi18NText("select"),handler:e}]},{region:"center",border:false,layout:"fit",listeners:{render:j}}]})}function j(l,m){k=getAjaxProxy({url:"classcard!getClassList.action"});f=Ext.create("Ext.data.Store",{fields:["classId","className","gradeId","isEnable"],buffered:false,pageSize:10,leadingBufferZone:50,proxy:k,listeners:{load:function(n){Ext.getBody().unmask()}}});k.setExtraParam("type",0);f.loadPage(1);h=Ext.create("Ext.grid.Panel",{title:window.top.getIi18NText("classList"),iconCls:"tabIconCss",frame:false,store:f,columns:[{text:window.top.getIi18NText("No"),width:80,xtype:"rownumberer",align:"center"},{text:window.top.getIi18NText("classNo"),dataIndex:"classId",width:200},{text:window.top.getIi18NText("className2"),dataIndex:"className",minWidth:200},{text:window.top.getIi18NText("gradeNo"),dataIndex:"gradeId",minWidth:100,flex:1},{text:window.top.getIi18NText("isEnable"),dataIndex:"isEnable",minWidth:70,flex:2,renderer:g}],bbar:[{id:"padingBar",xtype:"pagingtoolbar",store:f,border:false,displayInfo:true}],margin:1,tools:[{xtype:"button",tooltipType:"title",text:window.top.getIi18NText("syncData"),border:false,iconCls:"refreshIconCss",handler:c}],viewConfig:{trackOver:false,disableSelection:false,emptyText:'<h1 style="margin:10px">'+window.top.getIi18NText("roleTip05")+"</h1>"}});l.add(h)}function e(l){k.setExtraParam("n",encode(Ext.getCmp("searchTextId").getValue().trim()));k.setExtraParam("type",0);f.loadPage(1)}function c(l){k.setExtraParam("n",encode(Ext.getCmp("searchTextId").getValue().trim()));k.setExtraParam("type",1);f.loadPage(1)}function g(q,n,m,r,p,o,l){if(q==1){return window.top.getIi18NText("enable")}else{return window.top.getIi18NText("notEnabled")}}});