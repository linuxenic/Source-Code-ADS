var defaultSelect;Ext.onReady(function(){var e,d,i="grid_row_";var a=Ext.create("Ext.tip.ToolTip",{title:"系统提示",minWidth:100,html:""});Ext.QuickTips.init();e=Ext.create("Ext.container.Viewport",{layout:{type:"border"},renderTo:document.body,defaults:{},border:false,style:"background: white",items:[{region:"north",height:40,width:400,id:"northContanier",layout:{type:"hbox",align:"middle",defaultMargins:{right:3}},bodyCls:"x_panel_backDD",items:[{xtype:"image",src:"",width:40,height:24,imgCls:"searchIconCss"},{fieldLabel:"名称",id:"searchTextId",xtype:"textfield",maxLength:50,width:180,labelWidth:30,emptyText:"按公司名称查找",enforceMaxLength:true},{xtype:"datefield",fieldLabel:"创建起始时间",name:"btime",labelWidth:80,width:220,id:"btime",name:"btime",emptyText:"开始时间"},{xtype:"datefield",name:"etime",id:"etime",width:140,emptyText:"结束时间"},{xtype:"button",id:"queryBut",iconCls:"queryIconCss",text:"查询",handler:c}]},{region:"center",border:false,layout:"fit",listeners:{render:f}}]});function f(j,k){var l=Ext.create("Ext.data.Store",{fields:["id","name","parentName","stateValue","author","updateDate"],data:[{id:"32",name:"百度",parentName:"千度",stateValue:1,author:"你就知道！",updateDate:"2014-04-01 03:48:00"},{id:"44",name:"优酷",parentName:"快播",stateValue:1,author:"你就道！",updateDate:"2014-05-01 11:23:00"},{id:"56",name:"360",parentName:"361度",stateValue:1,author:"就知！",updateDate:"2014-05-06 10:18:00"}]});d=Ext.create("Ext.grid.Panel",{title:"公司列表",iconCls:"tabIconCss",frame:false,store:l,selType:"checkboxmodel",selModel:{mode:"MULTI",allowDeselect:false,showHeaderCheckbox:true,enableKeyNav:false,ignoreRightMouseSelection:true},columns:[{text:"公司编号",width:80,dataIndex:"id"},{text:"公司名称",dataIndex:"name",minWidth:100,flex:3},{text:"所属公司",dataIndex:"parentName",minWidth:100,flex:3},{text:"状态",dataIndex:"stateValue",width:100,renderer:h},{text:"创建人员",dataIndex:"author",width:120},{text:"最后更新时间",dataIndex:"updateDate",width:140},{text:"操作",minWidth:60,maxWidth:60,menuText:"操作",menuDisabled:true,sortable:false,draggable:false,resizable:false,xtype:"actioncolumn",items:[{iconCls:"editIconCss",tooltip:"修改"},{iconCls:"removeIconCss",tooltip:"删除"}]}],margin:1,tools:[{xtype:"button",tooltip:"新增公司",tooltipType:"title",text:"添加新公司",border:false,iconCls:"addIconCss",margin:"0 5 0 0",handler:function(n,m){}},{xtype:"button",tooltip:"删除选中的数据",tooltipType:"title",text:"删除公司",border:false,iconCls:"delIconCss",handler:function(n,m){}}]});j.add(d)}function h(o,l,k,p,n,m,j){return(o==1)?"可用":"不可用"}function g(j){return/^(\d+)(\*)(\d+)$/.test(j)?true:j+"分辨率格式有误，格式应为 宽数值*高数值，例如:1024*768"}function c(j){var k=Ext.getCmp("btime");if(!k.isValid()){b(j,"开始时间格式不正确!");return}var l=Ext.getCmp("etime");if(!l.isValid()){b(j,"结束时间格式不正确!");return}if(!Ext.isEmpty(l.getValue())&&!Ext.isEmpty(k.getValue())){if(k.getValue()>l.getValue()){b(j,"开始时间必须早于结束时间!");return}}}function b(j,k){a.update(k);a.showBy(j,null,[50,-60]);j.addListener("mouseout",function(){a.hide()})}});