var defaultSelect,groupWin;var selRecord=[];var curPage=1;var cusid="",cuterId="";function showResult(d,b){var a;if(b.timedout==true){Ext.Msg.alert(getIi18NText("systemMessage"),getIi18NText("timeout")+"<br/><font color='red'>("+getIi18NText("dealTimeoutTip01")+")</font>");return false}if(d==false){console.info("response error!－－"+b.status);if(b.status!="200"&&b.status!="0"){Ext.Msg.alert(getIi18NText("systemMessage"),getIi18NText("dataError")+"<br/><font color='red'>("+getIi18NText("dataErrorTip")+")</font>");return false}}var a;try{a=Ext.decode(b.responseText)}catch(c){Ext.Msg.alert(getIi18NText("systemMessage"),getIi18NText("loginTimeoutTip01"),function(){window.location.replace("auth!logOffUser.action")});return false}if(a.code!=0){Ext.Msg.alert(getIi18NText("systemMessage"),a.msg);return false}return a}Ext.onReady(function(){var p,k,r="grid_row_";var a=Ext.create("Ext.tip.ToolTip",{title:getIi18NText("systemMessage"),minWidth:100,html:""});Ext.QuickTips.init();var n=Ext.merge({add:false,update:false,"delete":false},Ext.decode(decode(AUTH_TBAR)));var j=getAjaxProxy({url:"terminal!terminalGroupList.action"});var c=Ext.create("Ext.data.Store",{fields:["gid","gname"],autoLoad:true,proxy:j,listeners:{load:function(){this.loadData([{gid:0,gname:"- -"+getIi18NText("defaultStore")+"- -"}],true)}}});var g=getAjaxProxy({url:"terminal!printerList.action"});var e=Ext.create("Ext.data.Store",{fields:["pid","pname","ip","terId","tname","storeId","sname","uname","latest","remark","port","type","creator","pnickname"],buffered:false,pageSize:20,leadingBufferZone:50,proxy:g,autoLoad:true,listeners:{load:function(s){Ext.getCmp("totalTabRows").setValue(s.getTotalCount());k.doLayout()}}});function l(){var u=Ext.getCmp("searchBianTextId").getValue();var t=Ext.getCmp("searchTextId").getValue();var s=Ext.getCmp("searchStoreTextId").getValue();e.load({params:{tna:encode(u),pna:encode(t),sid:s},callback:function(w,v,x){if(x==false){isFreshing=false;Ext.example.msg(getIi18NText("operationResultTip"),getIi18NText("monitor_error_01"));return}}})}var b=Ext.create("Ext.data.Store",{fields:["sid","storeName"],autoLoad:true,proxy:{type:"ajax",url:"terminal!selStoreList.action",reader:{type:"json",root:"data",tiemout:20000,totalProperty:"totalCount"}},listeners:{load:function(){this.loadData([{sid:-1,storeName:""+getIi18NText("allstore")+""}],true)}}});var f={text:getIi18NText("operation"),minWidth:80,maxWidth:80,menuText:getIi18NText("operation"),menuDisabled:true,sortable:false,draggable:false,hidden:true,resizable:false,xtype:"actioncolumn",items:[]};p=Ext.create("Ext.container.Viewport",{layout:{type:"border"},renderTo:document.body,defaults:{},border:false,style:"background: white",items:[{region:"north",height:40,width:400,id:"northContanier",layout:{type:"hbox",align:"middle",defaultMargins:{right:3}},bodyCls:"x_panel_backDD",items:[{xtype:"image",src:"",width:40,height:24,imgCls:"searchIconCss"},{xtype:"combo",fieldLabel:getIi18NText("onTerms"),labelWidth:40,width:133,editable:false,id:"switchCombo",store:[[1,getIi18NText("relatedShop")],[2,getIi18NText("printName")],[3,getIi18NText("deviceName")]],queryMode:"local",displayField:"name",valueField:"value",value:1,listeners:{change:function(v,u,s,t){d(v,u,s,t)}}},{fieldLabel:getIi18NText("name"),id:"searchTextId",xtype:"textfield",hidden:true,maxLength:50,width:130,labelWidth:30,emptyText:getIi18NText("keyword"),enforceMaxLength:true,listeners:{}},{fieldLabel:getIi18NText("equipment"),id:"searchBianTextId",xtype:"textfield",hidden:true,maxLength:50,width:130,labelWidth:30,emptyText:getIi18NText("deviceRetrieval"),enforceMaxLength:true,listeners:{}},{xtype:"combo",labelWidth:30,id:"searchStoreTextId",width:130,editable:false,store:b,queryMode:"local",displayField:"storeName",valueField:"sid",value:-1,listeners:{change:function(u,t,s,v){l()}}},{xtype:"button",iconCls:"queryIconCss",text:getIi18NText("select"),handler:function(){l()}}],listeners:{afterrender:function(){}}},{region:"center",border:false,layout:"fit",listeners:{render:h}}]});function d(v,u,s,t){if(s==1){Ext.getCmp("searchStoreTextId").hide()}else{if(s==2){Ext.getCmp("searchTextId").hide()}else{if(s==3){Ext.getCmp("searchBianTextId").hide()}}}if(u==1){Ext.getCmp("searchBianTextId").setValue("");Ext.getCmp("searchTextId").setValue("");Ext.getCmp("searchStoreTextId").show()}else{if(u==2){Ext.getCmp("searchBianTextId").setValue("");Ext.getCmp("searchStoreTextId").setValue(-1);Ext.getCmp("searchTextId").show()}else{if(u==3){Ext.getCmp("searchTextId").setValue("");Ext.getCmp("searchStoreTextId").setValue(-1);Ext.getCmp("searchBianTextId").show()}}}}function h(B,C){if(n.update){f.items.push({iconCls:"editIconCss",tooltip:getIi18NText("modify"),handler:function(G,I,L,H,J,F,K){currentId=F.get("pid");c.filterBy(function(N,M){if(N.data.gid==currentId){return false}else{return true}});s(K,F.get("pid"),F)}});f.hidden=false}if(n["delete"]){f.items.push({iconCls:"removeIconCss",tooltip:getIi18NText("delete"),handler:function(G,I,L,H,J,F,K){x(F.get("pid"),K)}});f.hidden=false}k=Ext.create("Ext.grid.Panel",{title:getIi18NText("printerList"),iconCls:"tabIconCss",frame:false,store:e,columns:[{text:getIi18NText("No"),width:40,xtype:"rownumberer",align:"center",sortable:false,menuDisabled:true},{text:getIi18NText("name"),dataIndex:"pnickname",minWidth:140,sortable:false,menuDisabled:true},{text:getIi18NText("modelsee"),dataIndex:"pname",minWidth:140,sortable:false,menuDisabled:true},{text:getIi18NText("relatedEquip"),dataIndex:"tname",minWidth:90,sortable:false,menuDisabled:true,renderer:o},{text:getIi18NText("relatedStore"),dataIndex:"sname",minWidth:90,sortable:false,menuDisabled:true,renderer:o},{text:getIi18NText("conType"),dataIndex:"type",minWidth:90,sortable:false,menuDisabled:true,renderer:i},{text:getIi18NText("IP"),dataIndex:"ip",minWidth:130,sortable:false,menuDisabled:true},{text:getIi18NText("cluster_port"),dataIndex:"port",minWidth:50,sortable:false,menuDisabled:true},f,{text:getIi18NText("creator"),dataIndex:"uname",minWidth:90,sortable:false,menuDisabled:true},{text:getIi18NText("createTime"),dataIndex:"latest",minWidth:140,sortable:false,menuDisabled:true},{text:getIi18NText("remarks"),dataIndex:"remark",minWidth:90,sortable:false,menuDisabled:true}],bbar:[{xtype:"pagingtoolbar",store:e,border:false,displayInfo:true}],margin:1,tools:[{xtype:"displayfield",id:"totalTabRows",fieldLabel:getIi18NText("totalPrint"),labelWidth:70,minWidth:130,hidden:true,value:"-"},{xtype:"button",tooltip:getIi18NText("addPrint"),tooltipType:"title",text:getIi18NText("addPrint"),id:"addGroupBtn",border:false,iconCls:"addIconCss",margin:"0 5 0 0",hidden:!n.add,handler:s},{xtype:"button",tooltip:getIi18NText("showMore"),tooltipType:"title",text:getIi18NText("advancedOptions"),border:false,iconCls:"advanceIconCss",margin:"0 5 0 0",width:125,hidden:true,menu:[{text:getIi18NText("shutDownSetting")},{text:getIi18NText("shutDownTerminal")},{text:getIi18NText("restartTerminal")},{text:getIi18NText("shutDownPlayer")},{text:getIi18NText("restartPlayer")}]},{xtype:"button",tooltip:getIi18NText("refreshPrintList"),tooltipType:"title",text:getIi18NText("refresh"),border:false,iconCls:"refreshIconCss",handler:l}],viewConfig:{trackOver:false,disableSelection:false,emptyText:'<h1 style="margin:10px; font-size: 18px;">'+getIi18NText("notData")+"</h1>"}});B.add(k);function t(){if(e){e.load({params:{n:Ext.id()}});b.load()}}var z=Ext.create("Ext.grid.Panel",{store:Ext.create("Ext.data.Store",{fields:["terId","name","qudian"],proxy:{type:"ajax",url:"terminal!monitorTerminalForPrint.action",extraParams:{w:1,g:-1,n:"",t:-1},reader:{type:"json",root:"data",tiemout:20000,totalProperty:"totalCount"}},autoLoad:false}),columns:[{text:getIi18NText("name"),dataIndex:"name",flex:1,sortable:false,menuDisabled:true,draggable:false,renderer:m}],selType:"checkboxmodel",selModel:{mode:"SINGLE",allowDeselect:false,showHeaderCheckbox:false,enableKeyNav:false,ignoreRightMouseSelection:true},height:100,minWidth:200,width:"100%",dockedItems:[{xtype:"toolbar",dock:"top",items:[{id:"selStore",xtype:"displayfield",fieldLabel:'<font color="green"><strong>'+getIi18NText("selStore")+"</strong></font>",value:"",labelWidth:90,width:255}]},{xtype:"toolbar",dock:"bottom",items:[{id:"showSelected",xtype:"displayfield",fieldLabel:'<font color="green"><strong>'+getIi18NText("selDevice")+"</strong></font>",value:"",labelWidth:90,width:255}]}],listeners:{select:function(I,F,G,H){Ext.getCmp("showSelected").setValue(F.get("name"));cuterId=F.get("terId")}}});function y(){var H=Ext.getCmp("firstButton");var G=Math.ceil(Ext.getCmp("imgTotalfield").getValue()/20);var F=Ext.getCmp("lastButton");if(curPage==1||curPage==0){H.setDisabled(true)}else{H.setDisabled(false)}if(curPage==G||G==0||G==1){F.setDisabled(true)}else{F.setDisabled(false)}}function D(F){var G=Math.ceil(Ext.getCmp("imgTotalfield").getValue()/20);if(F=="next"){curPage=curPage+1}else{curPage=curPage-1}if(curPage>G){curPage=G}else{if(curPage<=0){curPage=1}}}function E(F,G){var H=z.getStore();H.load({params:{sid:F,pid:G},callback:function(J,I,L){if(L==false){isFreshing=false;Ext.example.msg(getIi18NText("operationResultTip"),getIi18NText("monitor_error_01"));return}if(cuterId!=""){var M=z.getSelectionModel();var K=true;z.getStore().each(function(N){if(cuterId==N.get("terId")){M.select(N);K=false}});if(K){Ext.getCmp("showSelected").setValue("");cuterId=""}}}})}var v=Ext.create("Ext.grid.Panel",{store:Ext.create("Ext.data.Store",{fields:["sid","storeName"],pageSize:20,leadingBufferZone:50,proxy:{type:"ajax",url:"terminal!storeList.action",extraParams:{w:1,g:-1,n:"",t:-1},reader:{type:"json",root:"data",tiemout:20000,totalProperty:"totalCount"}},autoLoad:false,listeners:{load:function(F){Ext.getCmp("imgTotalfield").setValue(F.getTotalCount());var G=Math.ceil(Ext.getCmp("imgTotalfield").getValue()/20);if(G!=0){Ext.getCmp("pageOfNext").setValue(curPage+"/"+G)}else{Ext.getCmp("pageOfNext").setValue("0/"+G)}y()}}}),columns:[{text:getIi18NText("storeName"),dataIndex:"storeName",flex:1,sortable:false,menuDisabled:true,draggable:false}],selType:"checkboxmodel",selModel:{mode:"SINGLE",allowDeselect:false,showHeaderCheckbox:false,enableKeyNav:false,ignoreRightMouseSelection:true},height:100,minWidth:200,width:"100%",dockedItems:[{xtype:"toolbar",dock:"top",items:[{id:"seatext",xtype:"textfield",margin:"0 50 0 0",maxLength:50,width:130,emptyText:getIi18NText("storeName"),enforceMaxLength:true,listeners:{specialkey:function(G,F){if(F.getKey()==F.ENTER){curPage=1;u()}}}},{xtype:"button",id:"multsdptr",margin:"0 0 0 0",text:getIi18NText("item_query"),iconCls:"queryIconCss",hidden:false,handler:function(F,G){curPage=1;u()}}]},{xtype:"toolbar",dock:"bottom",items:[{xtype:"button",text:getIi18NText("prePage"),id:"firstButton",handler:function(){D("pre");u();y()}},{xtype:"button",text:getIi18NText("nextPage"),id:"lastButton",handler:function(){D("next");u();y()}},{xtype:"displayfield",id:"pageOfNext",fieldLabel:getIi18NText("page1"),margin:"0 0 0 4",labelWidth:30,labelAlign:"right",width:65,value:"0/0"},{xtype:"displayfield",id:"imgTotalfield",fieldLabel:getIi18NText("totalStore"),margin:"0 0 0 4",labelWidth:60,width:115,value:"0"}]}],listeners:{select:function(I,F,G,H){cusid=F.get("sid");E(F.get("sid"),Ext.getCmp("prinName").gid);Ext.getCmp("selStore").setValue(F.get("storeName"))}}});function u(){var F=Ext.getCmp("seatext").getValue();var G=v.getStore();G.load({params:{sna:F,p:curPage},callback:function(I,H,K){if(K==false){isFreshing=false;Ext.example.msg(getIi18NText("operationResultTip"),getIi18NText("monitor_error_01"));return}if(cusid!=""){var J=v.getSelectionModel();v.getStore().each(function(L){if(cusid==L.get("sid")){J.select(L)}})}}})}function s(G,H,F){Ext.getBody().mask(getIi18NText("monitor_message_58"));v.getStore().load({params:{sna:"",p:curPage},callback:function(){Ext.getBody().unmask();var I=function(){groupWin.hide(G);Ext.getCmp("prinName").setValue("");Ext.getCmp("prinModel").setValue(1);Ext.getCmp("prinRemark").setValue("");Ext.getCmp("selStore").setValue("");Ext.getCmp("showSelected").setValue("");Ext.getCmp("IPAddr").setValue("");Ext.getCmp("prinPort").setValue("");Ext.getCmp("prinType").setValue(2);cusid="";cuterId="";z.getStore().removeAll();Ext.getCmp("seatext").setValue("");curPage=1;selRecord=new Array()};var K=function(){Ext.getCmp("prinName").gid=null;groupWin.setTitle(getIi18NText("addPrint"));if(/^\d+$/.test(H)){groupWin.setTitle(getIi18NText("updatePrinter"));A(F)}else{c.clearFilter()}};var J=function(){if(cusid!=""){var M=v.getSelectionModel();v.getStore().each(function(N){if(cusid==N.get("sid")){M.select(N)}})}};var L=function(P,O,M,N){Ext.getCmp("ucheckGrid").setHeight(M-150);Ext.getCmp("uncheckGrid").setHeight(M-150);Ext.getCmp("checkGrid").setHeight(M-155)};if(groupWin&&groupWin.isWindow){groupWin.clearListeners();groupWin.addListener("beforeclose",I);groupWin.addListener("beforeshow",K);groupWin.addListener("show",J);groupWin.addListener("resize",L);groupWin.show(G);return}groupWin=Ext.create("Ext.window.Window",{title:getIi18NText("addPrint"),plain:true,width:800,height:430,minWidth:690,minHeight:290,border:false,modal:true,maximizable:true,constrain:true,closeAction:"hide",listeners:{beforeclose:I,beforeshow:K,resize:L,show:J},layout:"fit",bodyCls:"x_panel_backDD",items:[{xtype:"form",layout:{type:"vbox",align:"center",pack:"start"},width:"100%",height:"100%",monitorValid:true,border:false,autoScroll:true,items:[{xtype:"panel",width:"100%",height:60,border:false,layout:{type:"hbox",align:"left",pack:"center"},items:[{xtype:"panel",width:"65%",height:60,border:false,layout:{type:"vbox",align:"left",pack:"start"},items:[{xtype:"panel",width:"100%",height:30,border:false,layout:{type:"hbox",align:"left",pack:"center"},items:[{xtype:"textfield",fieldLabel:'<font color="red"> * </font>'+getIi18NText("name"),id:"prinName",maxLength:25,width:"35%",labelWidth:45,labelAlign:"right",margin:"5 5 0 0",allowBlank:false,enforceMaxLength:true,maxLengthText:getIi18NText("pnameMax"),blankText:getIi18NText("pnameNoEm")},{xtype:"combo",fieldLabel:'<font color="red"> * </font>'+getIi18NText("modelsee"),labelWidth:40,labelAlign:"right",width:"30%",margin:"5 10 0 0",editable:false,id:"prinModel",store:[[1,"PPTII-A"],[2,"SPRT"],[3,"EPSON"]],queryMode:"local",displayField:"name",valueField:"value",value:1,listeners:{change:function(P,O,M,N){if(O==1){Ext.getCmp("prinType").getStore().loadData([[2,getIi18NText("wifiDev")]]);Ext.getCmp("prinType").setValue(2)}if(O==2){Ext.getCmp("prinType").getStore().loadData([[2,getIi18NText("wifiDev")],[3,getIi18NText("usbDev")],[4,getIi18NText("serialDev")]]);Ext.getCmp("prinType").setValue(2)}if(O==3){Ext.getCmp("prinType").getStore().loadData([[3,getIi18NText("usbDev")]]);Ext.getCmp("prinType").setValue(3)}}}},{xtype:"combo",fieldLabel:'<font color="red"> * </font>'+getIi18NText("linkType"),labelWidth:60,labelAlign:"right",width:"35%",margin:"5 10 0 0",editable:false,id:"prinType",store:[[2,getIi18NText("wifiDev")],[3,getIi18NText("usbDev")]],queryMode:"local",displayField:"name",valueField:"value",value:2,listeners:{change:function(P,O,M,N){if(M==2){Ext.getCmp("IPAddr").setValue("127.0.0.1");Ext.getCmp("prinPort").setValue("8080");Ext.getCmp("IPAddr").hide();Ext.getCmp("prinPort").hide()}if(O==2){Ext.getCmp("IPAddr").setValue("");Ext.getCmp("prinPort").setValue("");Ext.getCmp("prinPort").show();Ext.getCmp("IPAddr").show()}}}}]},{xtype:"panel",width:"100%",height:30,border:false,layout:{type:"hbox",align:"left",pack:"center"},items:[{xtype:"textfield",fieldLabel:'<font color="red"> * </font>IP',id:"IPAddr",maxLength:15,width:"65%",labelWidth:45,labelAlign:"right",margin:"5 5 0 0",regex:/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/,regexText:getIi18NText("enterCorrectIP"),allowBlank:false,enforceMaxLength:true,maxLengthText:getIi18NText("ipMax"),blankText:getIi18NText("ipNoEmpty")},{xtype:"textfield",fieldLabel:'<font color="red"> * </font>'+getIi18NText("cluster_port"),id:"prinPort",maxLength:4,width:"35%",labelWidth:60,labelAlign:"right",regex:/^\d{4}$/,regexText:getIi18NText("enterCoPort"),margin:"5 10 0 0",allowBlank:false,enforceMaxLength:true,maxLengthText:getIi18NText("portMax"),blankText:getIi18NText("portNoEmpty")}]}]},{xtype:"panel",width:"35%",height:60,border:false,layout:{type:"hbox",align:"center",pack:"center"},items:[{xtype:"textarea",width:"100%",height:55,fieldLabel:getIi18NText("remark"),margin:"5 15 0 0",labelWidth:50,labelAlign:"right",maxLength:50,id:"prinRemark",maxLengthText:getIi18NText("instructionTip"),enforceMaxLength:true}]}]},{xtype:"panel",width:"100%",height:220,id:"ucheckGrid",border:false,layout:{type:"hbox",align:"left",pack:"center"},items:[{xtype:"displayfield",fieldLabel:getIi18NText("storeSel"),id:"uncheckGrid",width:"50%",height:"100%",labelAlign:"right",labelWidth:75,value:'<div id="selectTerminal"></div>',listeners:{afterrender:function(){Ext.create("Ext.panel.Panel",{width:"100%",id:"addgr",height:"100%",border:false,layout:"fit",renderTo:this.el.getById("selectTerminal"),items:[v]})},resize:function(P,O,M,N){Ext.getCmp("addgr").setWidth(O-85);Ext.getCmp("addgr").setHeight(M)}}},{xtype:"displayfield",fieldLabel:getIi18NText("selectDev"),id:"checkGrid",width:"50%",height:"100%",labelAlign:"right",labelWidth:75,margin:"0 10 0 0",value:'<div id="selectTerminalss"></div>',listeners:{afterrender:function(){Ext.create("Ext.panel.Panel",{width:"100%",id:"adssdgr",height:"100%",border:false,layout:"fit",renderTo:this.el.getById("selectTerminalss"),items:[z]})},resize:function(P,O,M,N){Ext.getCmp("adssdgr").setWidth(O-85);Ext.getCmp("adssdgr").setHeight(M)}}}]},{xtype:"panel",width:"100%",height:40,border:false,layout:{type:"hbox",align:"left",pack:"center"},items:[{xtype:"button",text:getIi18NText("save"),formBind:true,disabled:false,margin:"15 0 0 0",handler:w},{xtype:"button",text:getIi18NText("cancel"),margin:"15 0 0 10",handler:function(){groupWin.close()}}]}]}]});groupWin.show(G);y()}})}function w(J,L){var G=Ext.getCmp("prinName").getValue();var H=Ext.getCmp("prinModel").getValue();var I=Ext.getCmp("prinType").getValue();var F=Ext.getCmp("prinPort").getValue();if(Ext.String.trim(G)==""){Ext.getCmp("prinName").focus();Ext.Msg.alert(getIi18NText("systemMessage"),getIi18NText("enterPname"));return}if(H==1){H="PPTII-A"}if(H==2){H="SPRT"}if(H==3){H="EPSON"}var M=Ext.getCmp("prinRemark").getValue();var K=Ext.getCmp("IPAddr").getValue();if(I!=2){F="";K=""}groupWin.getEl().mask(getIi18NText("addingPrint"));Ext.Ajax.request({url:"terminal!addPrint.action",params:{ip:K,sid:cusid,tid:cuterId,pn:Ext.String.trim(H),r:M,pid:Ext.getCmp("prinName").gid,type:I,port:F,nick:Ext.String.trim(G)},method:"post",callback:function(P,Q,O){var N=showResult(Q,O);groupWin.getEl().unmask();if(N==false){return}Ext.example.msg(getIi18NText("operationResultTip"),getIi18NText("savePrinterSu"));window.setTimeout(function(){groupWin.close();t()},800)}})}function A(F){if(F.get("pname")=="PPTII-A"){Ext.getCmp("prinModel").setValue(1);Ext.getCmp("IPAddr").setValue(F.get("ip"));Ext.getCmp("prinPort").setValue(F.get("port"))}else{if(F.get("pname")=="SPRT"){Ext.getCmp("prinModel").setValue(2);Ext.getCmp("IPAddr").setValue(F.get("ip"));Ext.getCmp("prinPort").setValue(F.get("port"))}else{if(F.get("pname")=="EPSON"){Ext.getCmp("prinModel").setValue(3);Ext.getCmp("IPAddr").setValue("192.168.1.1");Ext.getCmp("prinPort").setValue("8080")}}}Ext.getCmp("prinName").setValue(F.get("pnickname"));Ext.getCmp("prinName").gid=F.get("pid");Ext.getCmp("prinRemark").setValue(F.get("remark"));Ext.getCmp("prinType").setValue(F.get("type"));cuterId=F.get("terId");cusid=F.get("storeId")}function x(G,F){G=Ext.isArray(G)?G.join(","):G;Ext.Msg.show({icon:Ext.MessageBox.QUESTION,title:getIi18NText("systemMessage"),cls:"msgCls",msg:getIi18NText("isDelPrinter"),animateTarget:F,plain:true,buttons:Ext.MessageBox.OKCANCEL,buttonText:{ok:getIi18NText("delete"),cancel:getIi18NText("cancel")},fn:function(H,J,I){if(H=="ok"){Ext.Ajax.request({url:"terminal!delPrint.action",method:"post",params:{id:G},callback:function(M,N,L){var K=showResult(N,L);if(K==false){return}Ext.example.msg(getIi18NText("operationResultTip"),getIi18NText("delPrintSuccess"));t()}})}}})}}function i(w,u,t,v,s){if(Ext.isNumber(w)&&w==1){return getIi18NText("blueDev")}else{if(Ext.isNumber(w)&&w==2){return getIi18NText("wifiDev")}else{if(Ext.isNumber(w)&&w==3){return getIi18NText("usbDev")}else{if(Ext.isNumber(w)&&w==4){return getIi18NText("serialDev")}}}}}function o(w,u,t,v,s){if(w==""||typeof(w)=="undefined"||w==null){return"<font  >"+getIi18NText("noConfig")+"</font>"}return"<font  >"+w+"</font>"}function m(w,u,t,v,s){if(t.get("qudian")==2){return getIi18NText("point")+t.get("name")}else{if(t.get("qudian")==1){return getIi18NText("take")+t.get("name")}else{if(t.get("qudian")==3){return getIi18NText("kitchen")+t.get("name")}else{if(t.get("qudian")==4){return getIi18NText("pointtake")+t.get("name")}}}}}function q(s,t){a.update(t);a.showBy(s,null,[50,-60]);s.addListener("mouseout",function(){a.hide()})}});